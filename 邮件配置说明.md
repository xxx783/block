# 邮件配置说明

## 功能开关

邮件发送功能默认是**关闭状态**。您可以根据需要手动开启或关闭此功能。

### 开启邮件功能

在 `app.py` 文件中，将以下配置改为 `True`：

```python
app.config['MAIL_ENABLED'] = True  # 开启邮件发送功能
```

### 关闭邮件功能

将配置改为 `False` 或保持默认值：

```python
app.config['MAIL_ENABLED'] = False  # 关闭邮件发送功能
```

## 配置步骤

### 1. 获取QQ邮箱授权码

1. 登录您的QQ邮箱
2. 进入【设置】→【账户】
3. 找到【POP3/IMAP/SMTP服务】
4. 开启【POP3/SMTP服务】
5. 按照提示获取授权码（16位字符）

### 2. 修改配置文件

在 `app.py` 文件中，找到以下配置项并进行修改：

```python
# 邮件配置
app.config['MAIL_SERVER'] = 'smtp.qq.com'  # QQ邮箱SMTP服务器
app.config['MAIL_PORT'] = 587  # QQ邮箱SMTP端口
app.config['MAIL_USE_TLS'] = True
app.config['MAIL_USERNAME'] = 'your-email@qq.com'  # 替换为您的QQ邮箱
app.config['MAIL_PASSWORD'] = 'your-authorization-code'  # 替换为QQ邮箱授权码
```

### 3. 替换示例值

- `your-email@qq.com` → 您的QQ邮箱地址
- `your-authorization-code` → 您的QQ邮箱授权码

## 注意事项

1. **不要使用邮箱密码**：必须使用授权码，而不是邮箱登录密码
2. **授权码安全**：授权码是16位字符，请妥善保管
3. **测试邮件**：配置完成后，注册新用户时会自动发送欢迎邮件
4. **错误处理**：如果邮件发送失败，会在控制台输出错误信息，但不会影响用户注册流程

## 支持的其他邮箱

如果您想使用其他邮箱服务商，可以修改以下配置：

- **163邮箱**: 
  - MAIL_SERVER: 'smtp.163.com'
  - MAIL_PORT: 25 或 465(SSL)
  
- **Gmail**: 
  - MAIL_SERVER: 'smtp.gmail.com'
  - MAIL_PORT: 587
  - MAIL_USE_TLS: True

## 故障排除

如果邮件发送失败，请检查：

1. 邮箱地址和授权码是否正确
2. 网络连接是否正常
3. 防火墙是否阻止了SMTP连接
4. 邮箱服务商的SMTP服务是否开启

## 功能说明

- 邮件发送功能默认关闭，需要手动开启
- 当用户注册成功且邮件功能开启时，系统会自动发送欢迎邮件
- 邮件包含HTML格式的欢迎内容和登录链接
- 邮件发送采用异步方式，不会阻塞用户注册流程
- 如果邮件发送失败，会在服务器日志中记录错误信息